# 1 리팩터링
## 1.1 점진적인 리팩토링
- 기존의 테스트 코드가 깨지지 않는 상태로 리팩터링
- 컴파일 에러 발생을 최소화하면서 리팩터링

<br>

## 1.2 자주 마주하는 상황
- 함수에 인자 추가 -> 테스트 깨짐
- 함수 인자 타입 변경 -> 테스트 깨짐
- 위 두가지 경험을 하게 되면 테스트 코드에 대하여 부정적인 생각을 가지게 될 수 있다.

<br>

## 1.3 함수에 인자가 추가되는 경우
- (1) 변경하려는 함수를 그대로 복사
- (2) 예를들어, `match()` 를 `match2()` 로 변경
- (3) `match()` 를 사용하는 코드가 더 이상 존재하지 않으면 `match()` 제거
- (4) `match2()` 를 `match()`로 이름 변경

<br>

## 1.4 인스턴스 변수 타입이 변경되는 경우
- (1) 새로운 인스턴스 변수 추가
- (2) 예를들어 `String` 에서 `INT` 로 변경한다면 일시적으로 두 개의 타입을 동시에 가짐
- (3) 두 개의 변수에 동시에 데이터를 할당하고 변경하도록 변경

<br>

## 1.5 점진적인 리팩토링 케이스
- (1) 함수를 다른 클래스로 이동
- (2) 함수를 인자 타입이나 수, 반환 값이 변경되는 경우
- (3) 인스턴스 변수의 타입이 변경되는 경우

<br>

## 1.6 Test fixture
- 코틀린은 생성자를 호출할 때 new 키워드를 붙일 필요가 없다.
- 그래서 테스트 코드를 작성할 때 아래와 같이 대문자로 메서드를 선언하여 가짜 생성자를 만들 수 있다.

![image](https://user-images.githubusercontent.com/60383031/174097765-1638c604-0534-40f6-b1f6-5963f3bf349a.png)

- 실제 객체에 테스트를 위한 생성자를 만들지 않기 때문에 테스트 / 실제코드 간 영향을 끼치지 않는다.
